{% extends 'base_layout.html' %}
{% load static %}
{% block content %}
    <div class="row justify-content-center align-items-center">
        <h5>Ha pagado en comisiones:</h5>
        <table id="transactions">
            <thead>
                <th>Moneda</th>
                <th>Monto</th>
                <th>Valor acumulado</th>
            </thead>
            <tbody>
                {% for fee in fees %}
                <tr>
                    <td>{{ volume.symbol }} ({{ volume.pair_a_name_id }})</td>
                    <td>{{ volume.volume_buy|floatformat:3 }} USD</td>
                    <td>{{ volume.volume_sell|floatformat:3 }} USD</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div id="volumenesTotales" class="grafico"></div>
        <script>
            google.charts.setOnLoadCallback(drawBarColors);
            function drawBarColors() {
                // Define the chart to be drawn.
                var data = new google.visualization.arrayToDataTable([
                    ['Coin', 'Volumen de compra', 'Volumen de venta'],
                    {% for volume in volumes %}
                    ['{{ volume.pair_a_name_id }}', {{ volume.volume_buy|floatformat:3 }}, {{ volume.volume_sell|floatformat:3 }}],
                    {% endfor %}
                ]);
                var options = {
                    title: 'Vol√∫menes de compra y venta por moneda, en USD',
                    chartArea: {width: '50%'},
                    colors: ['#01a701', '#cd1c00'],
                    hAxis: {
                      title: 'Volumen (USD)',
                      minValue: 0
                    },
                    vAxis: {
                      title: 'Moneda'
                    }
                  };
                  var chart = new google.visualization.BarChart(document.getElementById('volumenesTotales'));
                  chart.draw(data, options);
            }
          </script>
    </div>
{% endblock  %}